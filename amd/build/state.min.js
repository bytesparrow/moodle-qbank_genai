/**
 * Code for checking questions generation state.
 *
 * @package
 * @category    admin
 * @copyright   2023 Ruthy Salomon <ruthy.salomon@gmail.com> , Yedidia Klein <yedidia@openapp.co.il>
 * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("qbank_genai/state",["jquery","core/ajax","core/templates"],(function($,Ajax,Templates){var intervalId=setInterval((function(){!function(intervalId){var userid=$("#qbank_genai_userid")[0].outerText,uniqid=$("#qbank_genai_uniqid")[0].outerText,courseid=$("#qbank_genai_courseid")[0].outerText;Ajax.call([{methodname:"qbank_genai_check_state",args:{userid:userid,uniqid:uniqid}}])[0].then((function(showSuccess){if(""!=showSuccess[0].success){var successmessage=JSON.parse(showSuccess[0].success);if(1==Object.keys(successmessage).length)var single=!0;else single=!1;if("0"==showSuccess[0].success)var error=showSuccess[0].tries;else error="";Templates.render("qbank_genai/success",{success:successmessage,courseid:courseid,wwwroot:M.cfg.wwwroot,error:error,single:single}).then((function(html){$("#qbank_genai_success").html(html)})),clearInterval(intervalId)}if(null!==showSuccess[0].tries){if(""!=showSuccess[0].success)var percent=100;else percent=Math.round(showSuccess[0].tries/showSuccess[0].numoftries*100);Templates.render("qbank_genai/info",{tries:showSuccess[0].tries,numoftries:showSuccess[0].numoftries,percent:percent}).then((function(html){$("#qbank_genai_info").html(html)}))}}))}(intervalId)}),2e4)}));

//# sourceMappingURL=state.min.js.map